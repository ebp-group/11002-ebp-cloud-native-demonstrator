<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cloud-Native Geospatial Demonstrator</title>
    <script type="module" crossorigin src="/11002-ebp-cloud-native-demonstrator/assets/flatgeobuf-icKmCSKB.js"></script>
    <link rel="modulepreload" crossorigin href="/11002-ebp-cloud-native-demonstrator/assets/index-0ZF-mYc9.js">
    <link rel="modulepreload" crossorigin href="/11002-ebp-cloud-native-demonstrator/assets/data-DoyY6cmS.js">
    <link rel="stylesheet" crossorigin href="/11002-ebp-cloud-native-demonstrator/assets/index-CyJIe8Sp.css">
  </head>
  <body>
    <div class="container-fluid h-100">
      <div class="row flex-column flex-md-row h-100">
        <div id="map-container" class="col-12 col-md-6 p-0">
          <div id="map"></div>
        </div>
        <div id="text-container" class="col-12 col-md-6 p-4 d-flex flex-column">
          <a href="/11002-ebp-cloud-native-demonstrator/">&leftarrow;Back to start</a>
          <h1 class="display-1">FlatGeoBuf</h1>
          <div class="alert alert-info">
            <b>Feature data at mouse click:</b>&nbsp;
            <pre><code id="clickresult">none</code></pre>
            <p>
              <button id="clearResults" class="btn btn-primary">Clear</button>
            </p>
            <p></p>
          </div>
          <div class="overflow-auto">
            <h2 class="display-6">General</h2>
            <ul>
              <li>
                Datasource:
                <a href="https://opendata.swiss/de/dataset/eignung-von-hausdachern-fur-die-nutzung-von-sonnenenergie" target="_blank"
                  >Eignung von Hausdächern für die Nutzung von Sonnenenergie</a
                >
              </li>
              <li>
                Based on: <a href="https://flatgeobuf.org/examples/maplibre/large.html" target="_blank">Official FlatGeoBuf example</a>
              </li>
              <li>
                Additional library needed:
                <a href="https://www.npmjs.com/package/flatgeobuf" target="_blank">flatgeobuf</a>
              </li>
              <li>Datafile is roughly 5GB with 10+ million polygons, see network tab to see the rangerequests in action.</li>
            </ul>
            <hr />
            <h2 class="display-6">Things to note</h2>
            <p>
              The data is provided as <a href="https://www.geopackage.org/" target="_blank">GPKG</a> in <code>EPSG:2056</code>. It was
              transformed using FME with a simple Reader&leftrightarrow;Writer transformation with implicit reprojection into
              <code>EPSG:4326</code>, since our map uses this CRS.
            </p>
            <p>
              The example shows the inherent strength of FlatGeoBuf in that it allows for efficient (geospatial) filtering. The blue
              rectangle is used as filter window to only select the features that are located within this area. The retrieved features are
              then rendered by means of a
              <a href="https://maplibre.org/maplibre-gl-js/docs/examples/add-a-geojson-polygon/" target="_blank">GeoJSON layer</a>.
              <b>This can have negative effects on performance</b>, as very large GeoJSON datasets take a lot of RAM to visualize and
              render. Hence, this approach is best used for filtering data on the fly and visualizing subsets.
            </p>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
